import{J as yt}from"./vendor.297fd21f.js";function K(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function x(t){return function n(e){return arguments.length===0||K(e)?n:t.apply(this,arguments)}}function G(t){return function n(e,i){switch(arguments.length){case 0:return n;case 1:return K(e)?n:x(function(s){return t(e,s)});default:return K(e)&&K(i)?n:K(e)?x(function(s){return t(s,i)}):K(i)?x(function(s){return t(e,s)}):t(e,i)}}}var Yt=Array.isArray||function(n){return n!=null&&n.length>=0&&Object.prototype.toString.call(n)==="[object Array]"};function bt(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function vt(t,n,e){return function(){if(arguments.length===0)return e();var i=Array.prototype.slice.call(arguments,0),s=i.pop();if(!Yt(s)){for(var r=0;r<t.length;){if(typeof s[t[r]]=="function")return s[t[r]].apply(s,i);r+=1}if(bt(s)){var o=n.apply(null,i);return o(s)}}return e.apply(this,arguments)}}var V={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},Lt=function(){function t(n,e){this.xf=e,this.f=n}return t.prototype["@@transducer/init"]=V.init,t.prototype["@@transducer/result"]=V.result,t.prototype["@@transducer/step"]=function(n,e){return this.f(e),this.xf["@@transducer/step"](n,e)},t}(),Ht=G(function(n,e){return new Lt(n,e)}),Tt=Ht,Bt=G(vt([],Tt,function(n,e){return n(e),e})),Ut=Bt;const J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function q(t,n,e,i){let s,r,o;const f=n||[0],h=(e=e||0)>>>3,c=i===-1?3:0;for(s=0;s<t.length;s+=1)o=s+h,r=o>>>2,f.length<=r&&f.push(0),f[r]|=t[s]<<8*(c+i*(o%4));return{value:f,binLen:8*t.length+e}}function R(t,n,e){switch(n){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(i,s,r){return function(o,f,h,c){let p,w,a,A;if(o.length%2!=0)throw new Error("String of HEX type must be in byte increments");const g=f||[0],E=(h=h||0)>>>3,d=c===-1?3:0;for(p=0;p<o.length;p+=2){if(w=parseInt(o.substr(p,2),16),isNaN(w))throw new Error("String of HEX type contains invalid characters");for(A=(p>>>1)+E,a=A>>>2;g.length<=a;)g.push(0);g[a]|=w<<8*(d+c*(A%4))}return{value:g,binLen:4*o.length+h}}(i,s,r,e)};case"TEXT":return function(i,s,r){return function(o,f,h,c,p){let w,a,A,g,E,d,y,T,Y=0;const v=h||[0],L=(c=c||0)>>>3;if(f==="UTF8")for(y=p===-1?3:0,A=0;A<o.length;A+=1)for(w=o.charCodeAt(A),a=[],128>w?a.push(w):2048>w?(a.push(192|w>>>6),a.push(128|63&w)):55296>w||57344<=w?a.push(224|w>>>12,128|w>>>6&63,128|63&w):(A+=1,w=65536+((1023&w)<<10|1023&o.charCodeAt(A)),a.push(240|w>>>18,128|w>>>12&63,128|w>>>6&63,128|63&w)),g=0;g<a.length;g+=1){for(d=Y+L,E=d>>>2;v.length<=E;)v.push(0);v[E]|=a[g]<<8*(y+p*(d%4)),Y+=1}else for(y=p===-1?2:0,T=f==="UTF16LE"&&p!==1||f!=="UTF16LE"&&p===1,A=0;A<o.length;A+=1){for(w=o.charCodeAt(A),T===!0&&(g=255&w,w=g<<8|w>>>8),d=Y+L,E=d>>>2;v.length<=E;)v.push(0);v[E]|=w<<8*(y+p*(d%4)),Y+=2}return{value:v,binLen:8*Y+c}}(i,n,s,r,e)};case"B64":return function(i,s,r){return function(o,f,h,c){let p,w,a,A,g,E,d,y=0;const T=f||[0],Y=(h=h||0)>>>3,v=c===-1?3:0,L=o.indexOf("=");if(o.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(o=o.replace(/=/g,""),L!==-1&&L<o.length)throw new Error("Invalid '=' found in base-64 string");for(w=0;w<o.length;w+=4){for(g=o.substr(w,4),A=0,a=0;a<g.length;a+=1)p=J.indexOf(g.charAt(a)),A|=p<<18-6*a;for(a=0;a<g.length-1;a+=1){for(d=y+Y,E=d>>>2;T.length<=E;)T.push(0);T[E]|=(A>>>16-8*a&255)<<8*(v+c*(d%4)),y+=1}}return{value:T,binLen:8*y+h}}(i,s,r,e)};case"BYTES":return function(i,s,r){return function(o,f,h,c){let p,w,a,A;const g=f||[0],E=(h=h||0)>>>3,d=c===-1?3:0;for(w=0;w<o.length;w+=1)p=o.charCodeAt(w),A=w+E,a=A>>>2,g.length<=a&&g.push(0),g[a]|=p<<8*(d+c*(A%4));return{value:g,binLen:8*o.length+h}}(i,s,r,e)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(i,s,r){return function(o,f,h,c){return q(new Uint8Array(o),f,h,c)}(i,s,r,e)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(i,s,r){return q(i,s,r,e)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function Q(t,n,e,i){switch(t){case"HEX":return function(s){return function(r,o,f,h){let c,p,w="";const a=o/8,A=f===-1?3:0;for(c=0;c<a;c+=1)p=r[c>>>2]>>>8*(A+f*(c%4)),w+="0123456789abcdef".charAt(p>>>4&15)+"0123456789abcdef".charAt(15&p);return h.outputUpper?w.toUpperCase():w}(s,n,e,i)};case"B64":return function(s){return function(r,o,f,h){let c,p,w,a,A,g="";const E=o/8,d=f===-1?3:0;for(c=0;c<E;c+=3)for(a=c+1<E?r[c+1>>>2]:0,A=c+2<E?r[c+2>>>2]:0,w=(r[c>>>2]>>>8*(d+f*(c%4))&255)<<16|(a>>>8*(d+f*((c+1)%4))&255)<<8|A>>>8*(d+f*((c+2)%4))&255,p=0;p<4;p+=1)g+=8*c+6*p<=o?J.charAt(w>>>6*(3-p)&63):h.b64Pad;return g}(s,n,e,i)};case"BYTES":return function(s){return function(r,o,f){let h,c,p="";const w=o/8,a=f===-1?3:0;for(h=0;h<w;h+=1)c=r[h>>>2]>>>8*(a+f*(h%4))&255,p+=String.fromCharCode(c);return p}(s,n,e)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(s){return function(r,o,f){let h;const c=o/8,p=new ArrayBuffer(c),w=new Uint8Array(p),a=f===-1?3:0;for(h=0;h<c;h+=1)w[h]=r[h>>>2]>>>8*(a+f*(h%4))&255;return p}(s,n,e)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(s){return function(r,o,f){let h;const c=o/8,p=f===-1?3:0,w=new Uint8Array(c);for(h=0;h<c;h+=1)w[h]=r[h>>>2]>>>8*(p+f*(h%4))&255;return w}(s,n,e)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],N=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],S=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],D="Chosen SHA variant is not supported";function _(t,n){let e,i;const s=t.binLen>>>3,r=n.binLen>>>3,o=s<<3,f=4-s<<3;if(s%4!=0){for(e=0;e<r;e+=4)i=s+e>>>2,t.value[i]|=n.value[e>>>2]<<o,t.value.push(0),t.value[i+1]|=n.value[e>>>2]>>>f;return(t.value.length<<2)-4>=r+s&&t.value.pop(),{value:t.value,binLen:t.binLen+n.binLen}}return{value:t.value.concat(n.value),binLen:t.binLen+n.binLen}}function Z(t){const n={outputUpper:!1,b64Pad:"=",outputLen:-1},e=t||{},i="Output length must be a multiple of 8";if(n.outputUpper=e.outputUpper||!1,e.b64Pad&&(n.b64Pad=e.b64Pad),e.outputLen){if(e.outputLen%8!=0)throw new Error(i);n.outputLen=e.outputLen}else if(e.shakeLen){if(e.shakeLen%8!=0)throw new Error(i);n.outputLen=e.shakeLen}if(typeof n.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof n.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return n}function k(t,n,e,i){const s=t+" must include a value and format";if(!n){if(!i)throw new Error(s);return i}if(n.value===void 0||!n.format)throw new Error(s);return R(n.format,n.encoding||"UTF8",e)(n.value)}class O{constructor(n,e,i){const s=i||{};if(this.t=e,this.i=s.encoding||"UTF8",this.numRounds=s.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=n,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(n){let e,i=0;const s=this.p>>>5,r=this.m(n,this.o,this.h),o=r.binLen,f=r.value,h=o>>>5;for(e=0;e<h;e+=s)i+this.p<=o&&(this.C=this.R(f.slice(e,e+s),this.C),i+=this.p);this.l+=i,this.o=f.slice(i>>>5),this.h=o%this.p,this.u=!0}getHash(n,e){let i,s,r=this.U;const o=Z(e);if(this.v){if(o.outputLen===-1)throw new Error("Output length must be specified in options");r=o.outputLen}const f=Q(n,r,this.K,o);if(this.A&&this.T)return f(this.T(o));for(s=this.F(this.o.slice(),this.h,this.l,this.g(this.C),r),i=1;i<this.numRounds;i+=1)this.v&&r%32!=0&&(s[s.length-1]&=16777215>>>24-r%32),s=this.F(s,r,0,this.B(this.s),r);return f(s)}setHMACKey(n,e,i){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const s=R(e,(i||{}).encoding||"UTF8",this.K);this.M(s(n))}M(n){const e=this.p>>>3,i=e/4-1;let s;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(e<n.binLen/8&&(n.value=this.F(n.value,n.binLen,0,this.B(this.s),this.U));n.value.length<=i;)n.value.push(0);for(s=0;s<=i;s+=1)this.H[s]=909522486^n.value[s],this.S[s]=1549556828^n.value[s];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(n,e){const i=Z(e);return Q(n,this.U,this.K,i)(this.k())}k(){let n;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const e=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return n=this.R(this.S,this.B(this.s)),n=this.F(e,this.U,this.p,n,this.U),n}}function F(t,n){return t<<n|t>>>32-n}function B(t,n){return t>>>n|t<<32-n}function W(t,n){return t>>>n}function tt(t,n,e){return t^n^e}function nt(t,n,e){return t&n^~t&e}function et(t,n,e){return t&n^t&e^n&e}function Nt(t){return B(t,2)^B(t,13)^B(t,22)}function b(t,n){const e=(65535&t)+(65535&n);return(65535&(t>>>16)+(n>>>16)+(e>>>16))<<16|65535&e}function St(t,n,e,i){const s=(65535&t)+(65535&n)+(65535&e)+(65535&i);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(i>>>16)+(s>>>16))<<16|65535&s}function M(t,n,e,i,s){const r=(65535&t)+(65535&n)+(65535&e)+(65535&i)+(65535&s);return(65535&(t>>>16)+(n>>>16)+(e>>>16)+(i>>>16)+(s>>>16)+(r>>>16))<<16|65535&r}function kt(t){return B(t,7)^B(t,18)^W(t,3)}function Kt(t){return B(t,6)^B(t,11)^B(t,25)}function Rt(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function it(t,n){let e,i,s,r,o,f,h;const c=[];for(e=n[0],i=n[1],s=n[2],r=n[3],o=n[4],h=0;h<80;h+=1)c[h]=h<16?t[h]:F(c[h-3]^c[h-8]^c[h-14]^c[h-16],1),f=h<20?M(F(e,5),nt(i,s,r),o,1518500249,c[h]):h<40?M(F(e,5),tt(i,s,r),o,1859775393,c[h]):h<60?M(F(e,5),et(i,s,r),o,2400959708,c[h]):M(F(e,5),tt(i,s,r),o,3395469782,c[h]),o=r,r=s,s=F(i,30),i=e,e=f;return n[0]=b(e,n[0]),n[1]=b(i,n[1]),n[2]=b(s,n[2]),n[3]=b(r,n[3]),n[4]=b(o,n[4]),n}function Ft(t,n,e,i){let s;const r=15+(n+65>>>9<<4),o=n+e;for(;t.length<=r;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[r]=4294967295&o,t[r-1]=o/4294967296|0,s=0;s<t.length;s+=16)i=it(t.slice(s,s+16),i);return i}class Ct extends O{constructor(n,e,i){if(n!=="SHA-1")throw new Error(D);super(n,e,i);const s=i||{};this.L=!0,this.T=this.k,this.K=-1,this.m=R(this.t,this.i,this.K),this.R=it,this.g=function(r){return r.slice()},this.B=Rt,this.F=Ft,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,s.hmacKey&&this.M(k("hmacKey",s.hmacKey,this.K))}}function st(t){let n;return n=t=="SHA-224"?N.slice():S.slice(),n}function ut(t,n){let e,i,s,r,o,f,h,c,p,w,a;const A=[];for(e=n[0],i=n[1],s=n[2],r=n[3],o=n[4],f=n[5],h=n[6],c=n[7],a=0;a<64;a+=1)A[a]=a<16?t[a]:St(B(g=A[a-2],17)^B(g,19)^W(g,10),A[a-7],kt(A[a-15]),A[a-16]),p=M(c,Kt(o),nt(o,f,h),l[a],A[a]),w=b(Nt(e),et(e,i,s)),c=h,h=f,f=o,o=b(r,p),r=s,s=i,i=e,e=b(p,w);var g;return n[0]=b(e,n[0]),n[1]=b(i,n[1]),n[2]=b(s,n[2]),n[3]=b(r,n[3]),n[4]=b(o,n[4]),n[5]=b(f,n[5]),n[6]=b(h,n[6]),n[7]=b(c,n[7]),n}class Dt extends O{constructor(n,e,i){if(n!=="SHA-224"&&n!=="SHA-256")throw new Error(D);super(n,e,i);const s=i||{};this.T=this.k,this.L=!0,this.K=-1,this.m=R(this.t,this.i,this.K),this.R=ut,this.g=function(r){return r.slice()},this.B=st,this.F=function(r,o,f,h){return function(c,p,w,a,A){let g,E;const d=15+(p+65>>>9<<4),y=p+w;for(;c.length<=d;)c.push(0);for(c[p>>>5]|=128<<24-p%32,c[d]=4294967295&y,c[d-1]=y/4294967296|0,g=0;g<c.length;g+=16)a=ut(c.slice(g,g+16),a);return E=A==="SHA-224"?[a[0],a[1],a[2],a[3],a[4],a[5],a[6]]:a,E}(r,o,f,h,n)},this.C=st(n),this.p=512,this.U=n==="SHA-224"?224:256,this.v=!1,s.hmacKey&&this.M(k("hmacKey",s.hmacKey,this.K))}}class u{constructor(n,e){this.Y=n,this.N=e}}function rt(t,n){let e;return n>32?(e=64-n,new u(t.N<<n|t.Y>>>e,t.Y<<n|t.N>>>e)):n!==0?(e=32-n,new u(t.Y<<n|t.N>>>e,t.N<<n|t.Y>>>e)):t}function U(t,n){let e;return n<32?(e=32-n,new u(t.Y>>>n|t.N<<e,t.N>>>n|t.Y<<e)):(e=64-n,new u(t.N>>>n|t.Y<<e,t.Y>>>n|t.N<<e))}function ot(t,n){return new u(t.Y>>>n,t.N>>>n|t.Y<<32-n)}function Mt(t,n,e){return new u(t.Y&n.Y^t.Y&e.Y^n.Y&e.Y,t.N&n.N^t.N&e.N^n.N&e.N)}function It(t){const n=U(t,28),e=U(t,34),i=U(t,39);return new u(n.Y^e.Y^i.Y,n.N^e.N^i.N)}function H(t,n){let e,i;e=(65535&t.N)+(65535&n.N),i=(t.N>>>16)+(n.N>>>16)+(e>>>16);const s=(65535&i)<<16|65535&e;return e=(65535&t.Y)+(65535&n.Y)+(i>>>16),i=(t.Y>>>16)+(n.Y>>>16)+(e>>>16),new u((65535&i)<<16|65535&e,s)}function mt(t,n,e,i){let s,r;s=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&i.N),r=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(i.N>>>16)+(s>>>16);const o=(65535&r)<<16|65535&s;return s=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&i.Y)+(r>>>16),r=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(i.Y>>>16)+(s>>>16),new u((65535&r)<<16|65535&s,o)}function Pt(t,n,e,i,s){let r,o;r=(65535&t.N)+(65535&n.N)+(65535&e.N)+(65535&i.N)+(65535&s.N),o=(t.N>>>16)+(n.N>>>16)+(e.N>>>16)+(i.N>>>16)+(s.N>>>16)+(r>>>16);const f=(65535&o)<<16|65535&r;return r=(65535&t.Y)+(65535&n.Y)+(65535&e.Y)+(65535&i.Y)+(65535&s.Y)+(o>>>16),o=(t.Y>>>16)+(n.Y>>>16)+(e.Y>>>16)+(i.Y>>>16)+(s.Y>>>16)+(r>>>16),new u((65535&o)<<16|65535&r,f)}function I(t,n){return new u(t.Y^n.Y,t.N^n.N)}function $t(t){const n=U(t,19),e=U(t,61),i=ot(t,6);return new u(n.Y^e.Y^i.Y,n.N^e.N^i.N)}function _t(t){const n=U(t,1),e=U(t,8),i=ot(t,7);return new u(n.Y^e.Y^i.Y,n.N^e.N^i.N)}function Ot(t){const n=U(t,14),e=U(t,18),i=U(t,41);return new u(n.Y^e.Y^i.Y,n.N^e.N^i.N)}const Xt=[new u(l[0],3609767458),new u(l[1],602891725),new u(l[2],3964484399),new u(l[3],2173295548),new u(l[4],4081628472),new u(l[5],3053834265),new u(l[6],2937671579),new u(l[7],3664609560),new u(l[8],2734883394),new u(l[9],1164996542),new u(l[10],1323610764),new u(l[11],3590304994),new u(l[12],4068182383),new u(l[13],991336113),new u(l[14],633803317),new u(l[15],3479774868),new u(l[16],2666613458),new u(l[17],944711139),new u(l[18],2341262773),new u(l[19],2007800933),new u(l[20],1495990901),new u(l[21],1856431235),new u(l[22],3175218132),new u(l[23],2198950837),new u(l[24],3999719339),new u(l[25],766784016),new u(l[26],2566594879),new u(l[27],3203337956),new u(l[28],1034457026),new u(l[29],2466948901),new u(l[30],3758326383),new u(l[31],168717936),new u(l[32],1188179964),new u(l[33],1546045734),new u(l[34],1522805485),new u(l[35],2643833823),new u(l[36],2343527390),new u(l[37],1014477480),new u(l[38],1206759142),new u(l[39],344077627),new u(l[40],1290863460),new u(l[41],3158454273),new u(l[42],3505952657),new u(l[43],106217008),new u(l[44],3606008344),new u(l[45],1432725776),new u(l[46],1467031594),new u(l[47],851169720),new u(l[48],3100823752),new u(l[49],1363258195),new u(l[50],3750685593),new u(l[51],3785050280),new u(l[52],3318307427),new u(l[53],3812723403),new u(l[54],2003034995),new u(l[55],3602036899),new u(l[56],1575990012),new u(l[57],1125592928),new u(l[58],2716904306),new u(l[59],442776044),new u(l[60],593698344),new u(l[61],3733110249),new u(l[62],2999351573),new u(l[63],3815920427),new u(3391569614,3928383900),new u(3515267271,566280711),new u(3940187606,3454069534),new u(4118630271,4000239992),new u(116418474,1914138554),new u(174292421,2731055270),new u(289380356,3203993006),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,2618297676),new u(1288033470,3409855158),new u(1501505948,4234509866),new u(1607167915,987167468),new u(1816402316,1246189591)];function at(t){return t==="SHA-384"?[new u(3418070365,N[0]),new u(1654270250,N[1]),new u(2438529370,N[2]),new u(355462360,N[3]),new u(1731405415,N[4]),new u(41048885895,N[5]),new u(3675008525,N[6]),new u(1203062813,N[7])]:[new u(S[0],4089235720),new u(S[1],2227873595),new u(S[2],4271175723),new u(S[3],1595750129),new u(S[4],2917565137),new u(S[5],725511199),new u(S[6],4215389547),new u(S[7],327033209)]}function ht(t,n){let e,i,s,r,o,f,h,c,p,w,a,A;const g=[];for(e=n[0],i=n[1],s=n[2],r=n[3],o=n[4],f=n[5],h=n[6],c=n[7],a=0;a<80;a+=1)a<16?(A=2*a,g[a]=new u(t[A],t[A+1])):g[a]=mt($t(g[a-2]),g[a-7],_t(g[a-15]),g[a-16]),p=Pt(c,Ot(o),(d=f,y=h,new u((E=o).Y&d.Y^~E.Y&y.Y,E.N&d.N^~E.N&y.N)),Xt[a],g[a]),w=H(It(e),Mt(e,i,s)),c=h,h=f,f=o,o=H(r,p),r=s,s=i,i=e,e=H(p,w);var E,d,y;return n[0]=H(e,n[0]),n[1]=H(i,n[1]),n[2]=H(s,n[2]),n[3]=H(r,n[3]),n[4]=H(o,n[4]),n[5]=H(f,n[5]),n[6]=H(h,n[6]),n[7]=H(c,n[7]),n}class xt extends O{constructor(n,e,i){if(n!=="SHA-384"&&n!=="SHA-512")throw new Error(D);super(n,e,i);const s=i||{};this.T=this.k,this.L=!0,this.K=-1,this.m=R(this.t,this.i,this.K),this.R=ht,this.g=function(r){return r.slice()},this.B=at,this.F=function(r,o,f,h){return function(c,p,w,a,A){let g,E;const d=31+(p+129>>>10<<5),y=p+w;for(;c.length<=d;)c.push(0);for(c[p>>>5]|=128<<24-p%32,c[d]=4294967295&y,c[d-1]=y/4294967296|0,g=0;g<c.length;g+=32)a=ht(c.slice(g,g+32),a);return E=A==="SHA-384"?[(a=a)[0].Y,a[0].N,a[1].Y,a[1].N,a[2].Y,a[2].N,a[3].Y,a[3].N,a[4].Y,a[4].N,a[5].Y,a[5].N]:[a[0].Y,a[0].N,a[1].Y,a[1].N,a[2].Y,a[2].N,a[3].Y,a[3].N,a[4].Y,a[4].N,a[5].Y,a[5].N,a[6].Y,a[6].N,a[7].Y,a[7].N],E}(r,o,f,h,n)},this.C=at(n),this.p=1024,this.U=n==="SHA-384"?384:512,this.v=!1,s.hmacKey&&this.M(k("hmacKey",s.hmacKey,this.K))}}const zt=[new u(0,1),new u(0,32898),new u(2147483648,32906),new u(2147483648,2147516416),new u(0,32907),new u(0,2147483649),new u(2147483648,2147516545),new u(2147483648,32777),new u(0,138),new u(0,136),new u(0,2147516425),new u(0,2147483658),new u(0,2147516555),new u(2147483648,139),new u(2147483648,32905),new u(2147483648,32771),new u(2147483648,32770),new u(2147483648,128),new u(0,32778),new u(2147483648,2147483658),new u(2147483648,2147516545),new u(2147483648,32896),new u(0,2147483649),new u(2147483648,2147516424)],jt=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function z(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=[new u(0,0),new u(0,0),new u(0,0),new u(0,0),new u(0,0)];return e}function Gt(t){let n;const e=[];for(n=0;n<5;n+=1)e[n]=t[n].slice();return e}function X(t,n){let e,i,s,r;const o=[],f=[];if(t!==null)for(i=0;i<t.length;i+=2)n[(i>>>1)%5][(i>>>1)/5|0]=I(n[(i>>>1)%5][(i>>>1)/5|0],new u(t[i+1],t[i]));for(e=0;e<24;e+=1){for(r=z(),i=0;i<5;i+=1)o[i]=(h=n[i][0],c=n[i][1],p=n[i][2],w=n[i][3],a=n[i][4],new u(h.Y^c.Y^p.Y^w.Y^a.Y,h.N^c.N^p.N^w.N^a.N));for(i=0;i<5;i+=1)f[i]=I(o[(i+4)%5],rt(o[(i+1)%5],1));for(i=0;i<5;i+=1)for(s=0;s<5;s+=1)n[i][s]=I(n[i][s],f[i]);for(i=0;i<5;i+=1)for(s=0;s<5;s+=1)r[s][(2*i+3*s)%5]=rt(n[i][s],jt[i][s]);for(i=0;i<5;i+=1)for(s=0;s<5;s+=1)n[i][s]=I(r[i][s],new u(~r[(i+1)%5][s].Y&r[(i+2)%5][s].Y,~r[(i+1)%5][s].N&r[(i+2)%5][s].N));n[0][0]=I(n[0][0],zt[e])}var h,c,p,w,a;return n}function ct(t){let n,e,i=0;const s=[0,0],r=[4294967295&t,t/4294967296&2097151];for(n=6;n>=0;n--)e=r[n>>2]>>>8*n&255,e===0&&i===0||(s[i+1>>2]|=e<<8*(i+1),i+=1);return i=i!==0?i:1,s[0]|=i,{value:i+1>4?s:[s[0]],binLen:8+8*i}}function j(t){return _(ct(t.binLen),t)}function ft(t,n){let e,i=ct(n);i=_(i,t);const s=n>>>2,r=(s-i.value.length%s)%s;for(e=0;e<r;e++)i.value.push(0);return i.value}class Vt extends O{constructor(n,e,i){let s=6,r=0;super(n,e,i);const o=i||{};if(this.numRounds!==1){if(o.kmacKey||o.hmacKey)throw new Error("Cannot set numRounds with MAC");if(this.s==="CSHAKE128"||this.s==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=R(this.t,this.i,this.K),this.R=X,this.g=Gt,this.B=z,this.C=z(),this.v=!1,n){case"SHA3-224":this.p=r=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=r=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=r=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=r=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":s=31,this.p=r=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":s=31,this.p=r=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":s=4,this.p=r=1344,this.I(i),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":s=4,this.p=r=1088,this.I(i),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=r=1344,s=this._(i),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=r=1088,s=this._(i),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(D)}this.F=function(f,h,c,p,w){return function(a,A,g,E,d,y,T){let Y,v,L=0;const C=[],$=d>>>5,dt=A>>>5;for(Y=0;Y<dt&&A>=d;Y+=$)E=X(a.slice(Y,Y+$),E),A-=d;for(a=a.slice(Y),A%=d;a.length<$;)a.push(0);for(Y=A>>>3,a[Y>>2]^=y<<Y%4*8,a[$-1]^=2147483648,E=X(a,E);32*C.length<T&&(v=E[L%5][L/5|0],C.push(v.N),!(32*C.length>=T));)C.push(v.Y),L+=1,64*L%d==0&&(X(null,E),L=0);return C}(f,h,0,p,r,s,w)},o.hmacKey&&this.M(k("hmacKey",o.hmacKey,this.K))}_(n,e){const i=function(r){const o=r||{};return{funcName:k("funcName",o.funcName,1,{value:[],binLen:0}),customization:k("Customization",o.customization,1,{value:[],binLen:0})}}(n||{});e&&(i.funcName=e);const s=_(j(i.funcName),j(i.customization));if(i.customization.binLen!==0||i.funcName.binLen!==0){const r=ft(s,this.p>>>3);for(let o=0;o<r.length;o+=this.p>>>5)this.C=this.R(r.slice(o,o+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(n){const e=function(s){const r=s||{};return{kmacKey:k("kmacKey",r.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:k("Customization",r.customization,1,{value:[],binLen:0})}}(n||{});this._(n,e.funcName);const i=ft(j(e.kmacKey),this.p>>>3);for(let s=0;s<i.length;s+=this.p>>>5)this.C=this.R(i.slice(s,s+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(n){const e=_({value:this.o.slice(),binLen:this.h},function(i){let s,r,o=0;const f=[0,0],h=[4294967295&i,i/4294967296&2097151];for(s=6;s>=0;s--)r=h[s>>2]>>>8*s&255,r===0&&o===0||(f[o>>2]|=r<<8*o,o+=1);return o=o!==0?o:1,f[o>>2]|=o<<8*o,{value:o+1>4?f:[f[0]],binLen:8+8*o}}(n.outputLen));return this.F(e.value,e.binLen,this.l,this.g(this.C),n.outputLen)}}class Jt{constructor(n,e,i){if(n=="SHA-1")this.O=new Ct(n,e,i);else if(n=="SHA-224"||n=="SHA-256")this.O=new Dt(n,e,i);else if(n=="SHA-384"||n=="SHA-512")this.O=new xt(n,e,i);else{if(n!="SHA3-224"&&n!="SHA3-256"&&n!="SHA3-384"&&n!="SHA3-512"&&n!="SHAKE128"&&n!="SHAKE256"&&n!="CSHAKE128"&&n!="CSHAKE256"&&n!="KMAC128"&&n!="KMAC256")throw new Error(D);this.O=new Vt(n,e,i)}}update(n){this.O.update(n)}getHash(n,e){return this.O.getHash(n,e)}setHMACKey(n,e,i){this.O.setHMACKey(n,e,i)}getHMAC(n,e){return this.O.getHMAC(n,e)}}const qt="https://ptx.transportdata.tw/MOTC/v2/",Qt="Bike/Station/",Zt="Bike/Availability/",Wt="Cycling/Shape/",tn="Bike/Station/NearBy",nn="Bike/Availability/NearBy";function en(){let t="bcee97e768f0431784373e00f3539404",n="bAY5MKsU_isyBjPsnFHcHlJgd1k",e=new Date().toUTCString(),i=new Jt("SHA-1","TEXT");i.setHMACKey(n,"TEXT"),i.update("x-date: "+e);let s=i.getHMAC("B64");return{Authorization:'hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+s+'"',"X-Date":e}}function wt(t){return{StationUID:t.StationUID,StationID:t.StationUID,AuthorityID:t.StationUID,StationName:{Zh_tw:t.StationName.Zh_tw,En:t.StationName.En},StationPosition:{PositionLon:t.StationPosition.PositionLon,PositionLat:t.StationPosition.PositionLat,GeoHash:t.StationPosition.GeoHash},StationAddress:{Zh_tw:t.StationAddress.Zh_tw,En:t.StationAddress.En},BikesCapacity:t.BikesCapacity,ServiceType:t.ServiceType,SrcUpdateTime:t.SrcUpdateTime,UpdateTime:t.UpdateTime}}function lt(t){return{StationUID:t.StationUID,StationID:t.StationID,ServiceStatus:t.ServiceStatus,ServiceType:t.ServiceType,AvailableRentBikes:t.AvailableRentBikes,AvailableReturnBikes:t.AvailableReturnBikes,SrcUpdateTime:t.SrcUpdateTime,UpdateTime:t.UpdateTime}}function sn(t){return{RouteName:t.RouteName,AuthorityName:t.AuthorityName,CityCode:t.CityCode,City:t.City,Town:t.Town,RoadSectionStart:t.RoadSectionStart,RoadSectionEnd:t.RoadSectionEnd,Direction:t.Direction,CyclingLength:t.CyclingLength,FinishedTime:t.FinishedTime,UpdateTime:t.UpdateTime,Geometry:t.Geometry}}function un(t){return String(new globalThis.URL(t,qt))}async function m(t,n){return fetch(un(t),{method:"GET",headers:en()}).then(e=>e.json()).then(e=>e.map(n,e)).then(Ut(console.log))}const P={getStationByCityName:(t,n,e)=>m(`${Qt}${t}?$spatialFilter=nearby(${n},${e},${100})`,wt),getAvailabilityCityName:t=>m(`${Zt}${t}`,lt),getCyclingShapeByCityName:t=>m(`${Wt}${t}`,sn),getNearByStation:(t,n)=>m(`${tn}?$spatialFilter=nearby(${t},${n},${500})`,wt),getNearByAvailability:(t,n)=>m(`${nn}?$spatialFilter=nearby(${t},${n},${500})`,lt)},on=yt({id:"bike",state:()=>({loading:!1,userLocation:[],bikeStations:[],bikeAvailability:[],bikeCyclingShape:[],bikeNearByStations:[],bikeNearByAvailability:[],selectedBikeStation:{},isRent:!0}),actions:{async getStationData(t,n,e){this.setLoading(!0);const i=await P.getStationByCityName(t,n,e);this.bikeStations=i,this.setLoading(!1)},async getAvailabilityData(t){this.setLoading(!0);const n=await P.getAvailabilityCityName(t);this.bikeAvailability=n,this.setLoading(!1)},async getCyclingShapeData(t){this.setLoading(!0);const n=await P.getCyclingShapeByCityName(t);this.bikeCyclingShape=n,this.setLoading(!1)},async getNearByStationData(t,n){this.setLoading(!0);const e=await P.getNearByStation(t,n);this.bikeNearByStations=e,this.setLoading(!1)},async getNearByAvailabilityData(t,n){this.setLoading(!0);const e=await P.getNearByAvailability(t,n);this.bikeNearByAvailability=e,this.setLoading(!1)},async setLoading(t){this.loading=t},setLocation(t,n){this.userLocation=[t,n]},setIsRent(t){this.isRent=t},setSelectedBikeStation(t){this.selectedBikeStation=t}},getters:{nearAvailability:t=>t.bikeAvailability.filter(n=>t.bikeStations.find(e=>e.StationUID===n.StationUID)),getAvailability:t=>t.bikeAvailability,getCyclingShape:t=>t.bikeCyclingShape,getNearByStations:t=>t.bikeNearByStations,getNearByAvailability:t=>t.bikeNearByAvailability,getSelectedBikeStation:t=>t.selectedBikeStation,getIsRent:t=>t.isRent}});var pt;(function(t){t.Chiayi="Chiayi",t.Hsinchu="Hsinchu",t.Kaohsiung="Kaohsiung",t.KinmenCounty="KinmenCounty",t.MiaoliCounty="MiaoliCounty",t.NewTaipei="NewTaipei",t.PingtungCounty="PingtungCounty",t.Taichung="Taichung",t.Tainan="Tainan",t.Taipei="Taipei",t.Taoyuan="Taoyuan"})(pt||(pt={}));var gt;(function(t){t.Chiayi="\u5609\u7FA9\u5E02",t.Hsinchu="\u65B0\u7AF9\u5E02",t.Kaohsiung="\u9AD8\u96C4\u5E02",t.KinmenCounty="\u91D1\u9580\u7E23",t.MiaoliCounty="\u82D7\u6817\u7E23",t.NewTaipei="\u65B0\u5317\u5E02",t.PingtungCounty="\u5C4F\u6771\u7E23",t.Taichung="\u81FA\u4E2D\u5E02",t.Tainan="\u81FA\u5357\u5E02",t.Taipei="\u81FA\u5317\u5E02",t.Taoyuan="\u6843\u5712\u5E02"})(gt||(gt={}));var At;(function(t){t.ChanghuaCounty="ChanghuaCounty",t.Chiayi="Chiayi",t.ChiayiCounty="ChiayiCounty",t.Hsinchu="Hsinchu",t.HsinchuCounty="HsinchuCounty",t.HualienCounty="HualienCounty",t.Kaohsiung="Kaohsiung",t.Keelung="Keelung",t.KinmenCounty="KinmenCounty",t.LienchiangCounty="LienchiangCounty",t.MiaoliCounty="MiaoliCounty",t.NantouCounty="NantouCounty",t.NewTaipei="NewTaipei",t.PenghuCounty="PenghuCounty",t.PingtungCounty="PingtungCounty",t.Taichung="Taichung",t.Tainan="Tainan",t.Taipei="Taipei",t.TaitungCounty="TaitungCounty",t.Taoyuan="Taoyuan",t.YilanCounty="YilanCounty",t.YunlinCounty="YunlinCounty"})(At||(At={}));var Et;(function(t){t.ChanghuaCounty="\u5F70\u5316\u7E23",t.Chiayi="\u5609\u7FA9\u5E02",t.ChiayiCounty="\u5609\u7FA9\u7E23",t.Hsinchu="\u65B0\u7AF9\u5E02",t.HsinchuCounty="\u65B0\u7AF9\u7E23",t.HualienCounty="\u82B1\u84EE\u7E23",t.Kaohsiung="\u9AD8\u96C4\u5E02",t.Keelung="\u57FA\u9686\u5E02",t.KinmenCounty="\u91D1\u9580\u7E23",t.LienchiangCounty="\u9023\u6C5F\u7E23",t.MiaoliCounty="\u82D7\u6817\u7E23",t.NantouCounty="\u5357\u6295\u7E23",t.NewTaipei="\u65B0\u5317\u5E02",t.PenghuCounty="\u6F8E\u6E56\u7E23",t.PingtungCounty="\u5C4F\u6771\u7E23",t.Taichung="\u81FA\u4E2D\u5E02",t.Tainan="\u81FA\u5357\u5E02",t.Taipei="\u81FA\u5317\u5E02",t.TaitungCounty="\u81FA\u6771\u7E23",t.Taoyuan="\u6843\u5712\u5E02",t.YilanCounty="\u5B9C\u862D\u7E23",t.YunlinCounty="\u96F2\u6797\u7E23"})(Et||(Et={}));const an=t=>Object.values(t);export{At as C,pt as S,gt as a,Et as b,an as g,on as u};
