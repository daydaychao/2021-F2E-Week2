import{f as p,o as l,b as c,g as y,A as B,F as m,s as v,B as T,e,t as d,l as z,d as A,r as M,m as R,n as D,q as F,v as V,k as _,x as Z,y as j,h as $}from"./vendor.88342a52.js";import{u as N,g as x,C as G,b as U}from"./enum.2c6f9387.js";import{_ as I,s as W,a as P,b as q,c as H,d as K,e as O,g as J,f as Q}from"./plugin-vue_export-helper.1a3abf93.js";const X={components:{LMap:W,LIcon:P,LTileLayer:q,LMarker:H,LControlLayers:K,LTooltip:O,LPolyline:J,LPopup:Q},props:["cyclingShape","selectedCyclingShape"],data(){return{zoom:16,iconWidth:25,iconHeight:40}},computed:{location(){return this.selectedCyclingShape&&this.selectedCyclingShape.Geometry?this.selectedCyclingShape.Geometry[0][0]:[23.58,120.58]}},methods:{log(r){console.log(r)},selectedRoad(r){N().setSelectedCyclingShape(r)}}},Y={style:{height:"100%",width:"100%"}},ee={class:"dialogBox road"};function te(r,o,h,E,u,C){const f=p("l-tile-layer"),L=p("l-control-layers"),k=p("l-icon"),w=p("l-marker"),b=p("l-polyline"),g=p("l-map");return l(),c("div",Y,[y(g,{modelValue:u.zoom,"onUpdate:modelValue":o[0]||(o[0]=n=>u.zoom=n),zoom:u.zoom,"onUpdate:zoom":o[1]||(o[1]=n=>u.zoom=n),center:C.location},{default:B(()=>[y(f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y(L),(l(!0),c(m,null,v(h.cyclingShape,(n,i)=>(l(),T(w,{key:i,"lat-lng":n.Geometry[0][0],onClick:s=>C.selectedRoad(n)},{default:B(()=>[y(k,null,{default:B(()=>[e("div",ee,d(i>10?i+1:"0"+(i+1)),1)]),_:2},1024)]),_:2},1032,["lat-lng","onClick"]))),128)),h.selectedCyclingShape?(l(!0),c(m,{key:0},v(h.selectedCyclingShape.Geometry,n=>(l(),T(b,{key:n,"lat-lngs":n,color:"#015D83"},null,8,["lat-lngs"]))),128)):z("",!0)]),_:1},8,["modelValue","zoom","center"])])}var oe=I(X,[["render",te]]);const S=r=>(Z("data-v-7a8c6a90"),r=r(),j(),r),le={class:"cycling-shape"},ne={class:"menu__flex"},se=S(()=>e("label",null,"\u9078\u64C7\u7E23\u5E02",-1)),ae=["value"],ce=S(()=>e("label",null,"\u8ACB\u9078\u64C7\u5340\u57DF\u6216\u9109\u93AE",-1)),ie=["value"],re={class:"mobileOnly"},ue=S(()=>e("path",{d:"M24 0.75C11.1562 0.75 0.75 11.1562 0.75 24C0.75 36.8438 11.1562 47.25 24 47.25C36.8438 47.25 47.25 36.8438 47.25 24C47.25 11.1562 36.8438 0.75 24 0.75ZM24 42.75C13.5938 42.75 5.25 34.4062 5.25 24C5.25 13.6875 13.5938 5.25 24 5.25C34.3125 5.25 42.75 13.6875 42.75 24C42.75 34.4062 34.3125 42.75 24 42.75ZM33.4688 18.1875C33.9375 17.8125 33.9375 17.0625 33.4688 16.5938L31.4062 14.5312C30.9375 14.0625 30.1875 14.0625 29.8125 14.5312L24 20.3438L18.0938 14.5312C17.7188 14.0625 16.9688 14.0625 16.5 14.5312L14.4375 16.5938C13.9688 17.0625 13.9688 17.8125 14.4375 18.1875L20.25 24L14.4375 29.9062C13.9688 30.2812 13.9688 31.0312 14.4375 31.5L16.5 33.5625C16.9688 34.0312 17.7188 34.0312 18.0938 33.5625L24 27.75L29.8125 33.5625C30.1875 34.0312 30.9375 34.0312 31.4062 33.5625L33.4688 31.5C33.9375 31.0312 33.9375 30.2812 33.4688 29.9062L27.6562 24L33.4688 18.1875Z",fill:"white"},null,-1)),de=[ue],pe=["onClick"],_e={class:"block"},he={class:"roadNum"},Ce={class:"block"},ge={class:"roadName"},ye={class:"roadIfo"},me={key:0},ve=S(()=>e("span",null,"\u2192",-1)),Se={class:"roadIfo"},fe=$(" \u8ECA\u9053\u9577\u5EA6\uFF1A "),Le={class:"roadLength"},ke={class:"cycling-shape__map"},we=A({setup(r){const o=N(),h=x(U),E=x(G),u=M(),C=M(""),f=R(()=>o.getCyclingShapeTown);o.getCyclingShape;function L(){u.value&&o.getCyclingShapeData(u.value)}async function k(){await L()}async function w(i){let s=[],t=i.target.value;if(t==="\u5168\u90E8"){o.setBikeCyclingShapeFiltered(o.bikeCyclingShape);return}t!="\u5168\u90E8"&&(s=o.getCyclingShape.filter(a=>{if(a.Town)return a.Town==t}),o.setBikeCyclingShapeFiltered(s))}function b(i){o.setSelectedCyclingShape(i)}const g=M();function n(i){g.value=i}return(i,s)=>(l(),c("main",le,[e("section",{class:D(["menu",{closeMobileMenu:!g.value}])},[e("button",{class:D(["btn-list",{hidden:g.value}]),onClick:s[0]||(s[0]=t=>n(!0))},"\u67E5\u770B\u6B64\u5340\u57DF\u5217\u8868",2),e("div",ne,[e("article",null,[e("p",null,[se,F(e("select",{class:"form-control","onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),onChange:k},[(l(!0),c(m,null,v(_(h),(t,a)=>(l(),c("option",{key:a,value:t},d(_(E)[a]),9,ae))),128))],544),[[V,u.value]])]),e("p",null,[ce,F(e("select",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>C.value=t),onChange:w},[(l(!0),c(m,null,v(_(f),(t,a)=>(l(),c("option",{key:a,value:t},d(t),9,ie))),128))],544),[[V,C.value]])])]),e("article",re,[(l(),c("svg",{onClick:s[3]||(s[3]=t=>n(!1)),class:"btn-close position",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},de))])]),(l(!0),c(m,null,v(_(o).bikeCyclingShapeFiltered,(t,a)=>(l(),c("div",{key:a,class:"road",onClick:be=>b(t)},[e("div",_e,[e("p",he,d(a>10?a+1:"0"+(a+1)),1)]),e("div",Ce,[e("p",ge,d(t.RouteName),1),e("p",ye,[$(d(t.RoadSectionStart||"\u7121\u8CC7\u6599")+" ",1),t.Direction=="\u96D9\u5411"?(l(),c("span",me,"\u2190")):z("",!0),ve,$(" "+d(t.RoadSectionEnd||"\u7121\u8CC7\u6599"),1)]),e("p",Se,[fe,e("span",Le,d(t.CyclingLength/100+"KM"),1)])])],8,pe))),128))],2),e("section",ke,[y(oe,{cyclingShape:_(o).bikeCyclingShapeFiltered,selectedCyclingShape:_(o).getSelectedCyclingShape},null,8,["cyclingShape","selectedCyclingShape"])])]))}});var Ee=I(we,[["__scopeId","data-v-7a8c6a90"]]);export{Ee as default};
