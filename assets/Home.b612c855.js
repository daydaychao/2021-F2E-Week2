var we=Object.defineProperty,ke=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var oe=(e,t,n)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t)=>{for(var n in t||(t={}))Re.call(t,n)&&oe(e,n,t[n]);if(ne)for(var n of ne(t))Oe.call(t,n)&&oe(e,n,t[n]);return e},f=(e,t)=>ke(e,je(t));import{j as A,k as _,l as $,n as T,m as V,p as ae,q as O,s as K,t as le,w as Q,v as ie,r as N,o as I,b as x,f as E,x as Z,F as X,y as se,z as Ie,e as u,A as F,B as Pe,g as M,d as re,C as S,D as ue,E as De,G as Te,H as xe,I as Ee}from"./vendor.297fd21f.js";import{u as ee,g as ce,S as Me,a as $e}from"./enum.e4825bcd.js";import{_ as de}from"./plugin-vue_export-helper.5a098b48.js";var ze="https://divinechao.github.io/2021-F2E-Week2/assets/home_hurry.3f21d96a.png";const me=(e,t)=>{let n;return function(...o){const a=this;n&&clearTimeout(n),n=setTimeout(()=>{e.apply(a,o),n=null},t)}},Ue=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),z=(e,t,n)=>{for(const o in n){const a="set"+Ue(o);e[a]?Q(()=>n[o],(l,d)=>{e[a](l,d)}):t[a]&&Q(()=>n[o],l=>{t[a](l)})}},H=e=>{const t={};for(const n in e)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&n!=="onReady"){const o=n.slice(2).toLocaleLowerCase();t[o]=e[n]}return t},Ne=async e=>{const t=await Promise.all([import("./marker-icon-2x.17982e67.js"),import("./marker-icon.c1a4cbf5.js"),import("./marker-shadow.91c47cf3.js")]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},q=e=>{const t=A(()=>console.warn(`Method ${e} has been invoked without being replaced`)),n=(...o)=>t.value(...o);return n.wrapped=t,O(e,n),n},Y=(e,t)=>e.wrapped.value=t,P=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||void 0,U="useGlobalLeaflet",G={options:{type:Object,default:()=>({})}},W=e=>({options:e.options,methods:{}}),fe=f(s({},G),{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}}),pe=(e,t,n)=>{const o=_("addLayer"),a=_("removeLayer"),{options:l,methods:d}=W(e),r=f(s({},l),{attribution:e.attribution,pane:e.pane}),c=()=>o({leafletObject:t.value}),p=()=>a({leafletObject:t.value}),y=f(s({},d),{setAttribution(m,g){this.$parent.leafletObject.attributionControl.removeAttribution(g).addAttribution(m)},setName(){p(),e.visible&&c()},setLayerType(){p(),e.visible&&c()},setVisible(m){t.value&&(m?c():p())},bindPopup({leafletObject:m}){t.value.bindPopup(m)},bindTooltip({leafletObject:m}){t.value.bindTooltip(m)},unbindTooltip(){const m=t.value?t.value.getTooltip():null;m&&m.unbindTooltip()},unbindPopup(){const m=t.value?t.value.getPopup():null;m&&m.unbindPopup()},updateVisibleProp(m){n.emit("update:visible",m)}});return O("bindPopup",y.bindPopup),O("bindTooltip",y.bindTooltip),O("unbindTooltip",y.unbindTooltip),O("unbindPopup",y.unbindPopup),ie(()=>{y.unbindPopup(),y.unbindTooltip(),p()}),{options:r,methods:y}},Fe=(e,t)=>{if(e&&t.default)return V("div",{style:{display:"none"}},t.default())},He=f(s({},G),{position:{type:String,default:"topright"}}),Ze=(e,t)=>{const{options:n,methods:o}=W(e),a=f(s({},n),{position:e.position}),l=f(s({},o),{setPosition(d){t.value&&t.value.setPosition(d)}});return ie(()=>{t.value&&t.value.remove()}),{options:a,methods:l}},Ge=f(s({},He),{collapsed:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},hideSingleBase:{type:Boolean,default:!1},sortLayers:{type:Boolean,default:!1},sortFunction:{type:Function,default:void 0}}),We=(e,t)=>{const{options:n}=Ze(e,t);return{options:f(s({},n),{collapsed:e.collapsed,autoZIndex:e.autoZIndex,hideSingleBase:e.hideSingleBase,sortLayers:e.sortLayers,sortFunction:e.sortFunction}),methods:{addLayer(l){l.layerType==="base"?t.value.addBaseLayer(l.leafletObject,l.name):l.layerType==="overlay"&&t.value.addOverlay(l.leafletObject,l.name)},removeLayer(l){t.value.removeLayer(l.leafletObject)}}}};var ye={name:"LControlLayers",props:Ge,setup(e,t){const n=A({}),o=_(U),a=_("registerLayerControl"),{options:l,methods:d}=We(e,n);return $(async()=>{const{control:r}=o?P.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=r.layers(null,null,l),z(d,n.value,e),a(f(s(s({},e),d),{leafletObject:n.value})),T(()=>t.emit("ready",n.value))}),{leafletObject:n.value}},render(){return null}};ye.__file="src/components/LControlLayers.vue";const Ve=f(s({},fe),{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:void 0}}),qe=(e,t,n)=>{const{options:o,methods:a}=pe(e,t,n);return{options:f(s({},o),{pane:e.pane,opacity:e.opacity,zIndex:e.zIndex,tileSize:e.tileSize,noWrap:e.noWrap,minZoom:e.minZoom,maxZoom:e.maxZoom}),methods:s({},a)}},Ye={iconUrl:{type:String,custom:!0,default:null},iconRetinaUrl:{type:String,custom:!0,default:null},iconSize:{type:[Object,Array],custom:!0,default:null},iconAnchor:{type:[Object,Array],custom:!0,default:null},popupAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},tooltipAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},shadowUrl:{type:String,custom:!0,default:null},shadowRetinaUrl:{type:String,custom:!0,default:null},shadowSize:{type:[Object,Array],custom:!0,default:null},shadowAnchor:{type:[Object,Array],custom:!0,default:null},bgPos:{type:[Object,Array],custom:!0,default:()=>[0,0]},className:{type:String,custom:!0,default:""},options:{type:Object,custom:!0,default:()=>({})}};var ve={name:"LIcon",props:s(s({},Ye),G),setup(e,t){const n=A(null),o=_(U),a=_("canSetParentHtml"),l=_("setParentHtml"),d=_("setIcon");let r,c,p,y,m;const g=(k,D,C)=>{const b=k&&k.innerHTML;if(!D){C&&m&&a()&&l(b);return}const L=H(t.attrs);m&&c(m,L);const{options:j}=W(e),i=f(s({},j),{iconUrl:e.iconUrl,iconRetinaUrl:e.iconRetinaUrl,iconSize:e.iconSize,iconAnchor:e.iconAnchor,popupAnchor:e.popupAnchor,tooltipAnchor:e.tooltipAnchor,shadowUrl:e.shadowUrl,shadowRetinaUrl:e.shadowRetinaUrl,shadowSize:e.shadowSize,shadowAnchor:e.shadowAnchor,bgPos:e.bgPos,className:e.className,html:b||e.html});m=i.html?p(i):y(i),r(m,L),d(m)},v=()=>{T(()=>g(n.value,!0,!1))},B=()=>{T(()=>g(n.value,!1,!0))},R={setIconUrl:v,setIconRetinaUrl:v,setIconSize:v,setIconAnchor:v,setPopupAnchor:v,setTooltipAnchor:v,setShadowUrl:v,setShadowRetinaUrl:v,setShadowAnchor:v,setBgPos:v,setClassName:v,setHtml:v};return $(async()=>{const{DomEvent:k,divIcon:D,icon:C}=o?P.L:await import("./leaflet-src.esm.291dd8ba.js");r=k.on,c=k.off,p=D,y=C,z(R,{},e),new MutationObserver(B).observe(n.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),v()}),{root:n}},render(){const e=this.$slots.default?this.$slots.default():void 0;return V("div",{ref:"root"},e)}};ve.__file="src/components/LIcon.vue";var he={emits:["ready","update:zoom","update:center","update:bounds"],props:f(s({},G),{center:{type:[Object,Array],default:()=>[0,0]},bounds:{type:[Array,Object],default:void 0},maxBounds:{type:[Array,Object],default:void 0},zoom:{type:Number,default:0},minZoom:{type:Number,default:void 0},maxZoom:{type:Number,default:void 0},paddingBottomRight:{type:Array,default:void 0},paddingTopLeft:{type:Array,default:void 0},padding:{type:Array,default:void 0},worldCopyJump:{type:Boolean,default:!1},crs:{type:[String,Object],default:"EPSG3857"},maxBoundsViscosity:{type:Number,default:void 0},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number,default:void 0},inertiaMaxSpeed:{type:Number,default:void 0},easeLinearity:{type:Number,default:void 0},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number,default:void 0},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:!1},useGlobalLeaflet:{type:Boolean,default:!1}}),setup(e,t){const n=A(null),o=ae({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:a}=W(e),l=f(s({},a),{minZoom:e.minZoom,maxZoom:e.maxZoom,maxBounds:e.maxBounds,maxBoundsViscosity:e.maxBoundsViscosity,worldCopyJump:e.worldCopyJump,crs:e.crs,center:e.center,zoom:e.zoom,inertia:e.inertia,inertiaDeceleration:e.inertiaDeceleration,inertiaMaxSpeed:e.inertiaMaxSpeed,easeLinearity:e.easeLinearity,zoomAnimation:e.zoomAnimation,zoomAnimationThreshold:e.zoomAnimationThreshold,fadeAnimation:e.fadeAnimation,markerZoomAnimation:e.markerZoomAnimation}),d=q("addLayer"),r=q("removeLayer"),c=q("registerControl"),p=q("registerLayerControl");O(U,e.useGlobalLeaflet);const y={moveEndHandler(){t.emit("update:zoom",o.leafletRef.getZoom()),t.emit("update:center",o.leafletRef.getCenter()),t.emit("update:bounds",o.leafletRef.getBounds())},overlayAddHandler(v){const B=o.layersInControl.find(R=>R.name===v.name);B&&B.updateVisibleProp(!0)},overlayRemoveHandler(v){const B=o.layersInControl.find(R=>R.name===v.name);B&&B.updateVisibleProp(!1)}};$(async()=>{e.useGlobalLeaflet&&(P.L=P.L||await import("./leaflet-src.34984b23.js").then(function(i){return i.l}));const{map:v,CRS:B,Icon:R,latLngBounds:k,latLng:D,DomEvent:C}=e.useGlobalLeaflet?P.L:await import("./leaflet-src.esm.291dd8ba.js");try{l.beforeMapMount&&await l.beforeMapMount()}catch(i){console.error(`The following error occurred running the provided beforeMapMount hook ${i.message}`)}await Ne(R);const b=typeof l.crs=="string"?B[l.crs]:l.crs;l.crs=b||B.EPSG3857;const L={addLayer(i){i.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd.push(i):o.layersInControl.find(w=>w.leafletObject._leaflet_id===i.leafletObject._leaflet_id)||(o.layerControl.addLayer(i),o.layersInControl.push(i))),i.visible!==!1&&o.leafletRef.addLayer(i.leafletObject)},removeLayer(i){i.layerType!==void 0&&(o.layerControl===void 0?o.layersToAdd=o.layersToAdd.filter(h=>h.name!==i.name):(o.layerControl.removeLayer(i.leafletObject),o.layersInControl=o.layersInControl.filter(h=>h.leafletObject._leaflet_id!==i.leafletObject._leaflet_id))),o.leafletRef.removeLayer(i.leafletObject)},registerLayerControl(i){o.layerControl=i,o.layersToAdd.forEach(h=>{o.layerControl.addLayer(h)}),o.layersToAdd=[],c(i)},registerControl(i){o.leafletRef.addControl(i.leafletObject)},setZoom(i){const h=o.leafletRef.getZoom();i!==h&&o.leafletRef.setZoom(i,{animate:e.noBlockingAnimations?!1:null})},setPaddingBottomRight(i){o.paddingBottomRight=i},setPaddingTopLeft(i){o.paddingTopLeft=i},setPadding(i){o.padding=i},setCrs(i){const h=o.leafletRef.getBounds();o.leafletRef.options.crs=i,o.leafletRef.fitBounds(h,{animate:!1,padding:[0,0]})},fitBounds(i){o.leafletRef.fitBounds(i,{animate:this.noBlockingAnimations?!1:null})},setBounds(i){if(!i)return;const h=k(i);if(!h.isValid())return;!(o.lastSetBounds||o.leafletRef.getBounds()).equals(h,0)&&(o.lastSetBounds=h,o.leafletRef.fitBounds(h,this.fitBoundsOptions))},setCenter(i){if(i==null)return;const h=D(i),w=o.lastSetCenter||o.leafletRef.getCenter();(w.lat!==h.lat||w.lng!==h.lng)&&(o.lastSetCenter=h,o.leafletRef.panTo(h,{animate:this.noBlockingAnimations?!1:null}))}};Y(d,L.addLayer),Y(r,L.removeLayer),Y(c,L.registerControl),Y(p,L.registerLayerControl),o.leafletRef=v(n.value,l),z(L,o.leafletRef,e);const j=H(t.attrs);o.leafletRef.on("moveend",me(y.moveEndHandler,100)),o.leafletRef.on("overlayadd",y.overlayAddHandler),o.leafletRef.on("overlayremove",y.overlayRemoveHandler),C.on(o.leafletRef,j),o.ready=!0,T(()=>t.emit("ready",o.leafletRef))}),K(()=>{o.leafletRef&&o.leafletRef.remove()});const m=le(()=>o.leafletRef),g=le(()=>o.ready);return{root:n,ready:g,leafletObject:m}},render(){return V("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready?this.$slots.default():{})}};he.__file="src/components/LMap.vue";const Je=f(s({},fe),{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],default:()=>{},custom:!1},zIndexOffset:{type:Number,custom:!1,default:null}}),Ke=(e,t,n)=>{const{options:o,methods:a}=pe(e,t,n),l=s(s({},o),e),d=f(s({},a),{setDraggable(r){t.value.dragging&&(r?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(r){n.emit("update:latLng",r.latlng),n.emit("update:lat-lng",r.latlng)},setLatLng(r){if(r!=null&&t.value){const c=t.value.getLatLng();(!c||!c.equals(r))&&t.value.setLatLng(r)}}});return{options:l,methods:d}};var be={name:"LMarker",props:Je,setup(e,t){const n=A({}),o=A(!1),a=_(U),l=_("addLayer");O("canSetParentHtml",()=>!!n.value.getElement()),O("setParentHtml",c=>n.value.getElement().innerHTML=c),O("setIcon",c=>n.value.setIcon&&n.value.setIcon(c));const{options:d,methods:r}=Ke(e,n,t);return d.icon===void 0&&delete d.icon,$(async()=>{const{marker:c,DomEvent:p}=a?P.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=c(e.latLng,d);const y=H(t.attrs);p.on(n.value,y),n.value.on("move",me(r.latLngSync,100)),z(r,n.value,e),l(f(s(s({},e),r),{leafletObject:n.value})),o.value=!0,T(()=>t.emit("ready",n.value))}),{ready:o,leafletObject:n}},render(){return Fe(this.ready,this.$slots)}};be.__file="src/components/LMarker.vue";const ge=f(s({},G),{content:{type:String,default:null}}),Le=(e,t)=>{const{options:n,methods:o}=W(e),a=f(s({},o),{setContent(l){t.value&&l!==null&&l!==void 0&&t.value.setContent(l)}});return{options:n,methods:a}},_e=e=>e.default?V("div",{ref:"root"},e.default()):null,Qe=f(s({},ge),{latLng:{type:[Object,Array],default:()=>[]}}),Xe=(e,t)=>{const{options:n,methods:o}=Le(e,t),a=_("unbindPopup");return K(()=>{a()}),{options:n,methods:o}};var Se={name:"LPopup",props:Qe,setup(e,t){const n=A({}),o=A(null),a=_(U),l=_("bindPopup"),{options:d,methods:r}=Xe(e,n);return $(async()=>{const{popup:c,DomEvent:p}=a?P.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=c(d),e.latLng!==void 0&&n.value.setLatLng(e.latLng),z(r,n.value,e);const y=H(t.attrs);p.on(n.value,y),n.value.setContent(e.content||o.value),l({leafletObject:n.value}),T(()=>t.emit("ready",n.value))}),{root:o,leafletObject:n}},render(){return _e(this.$slots)}};Se.__file="src/components/LPopup.vue";const Ae=f(s({},Ve),{tms:{type:Boolean,default:!1},subdomains:{type:String,default:"abc"},detectRetina:{type:Boolean,default:!1},url:{type:String,default:null}}),et=(e,t)=>{const{options:n,methods:o}=qe(e,t);return{options:f(s({},n),{tms:e.tms,subdomains:e.subdomains,detectRetina:e.detectRetina}),methods:s({},o)}};var Be={props:Ae,setup(e,t){const n=A({}),o=_(U),a=_("addLayer"),{options:l,methods:d}=et(e,n);return $(async()=>{const{tileLayer:r,DomEvent:c}=o?P.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=r(e.url,l);const p=H(t.attrs);c.on(n.value,p),z(d,n.value,e),a(f(s(s({},e),d),{leafletObject:n.value})),T(()=>t.emit("ready",n.value))}),{leafletObject:n}},render(){return null}};Be.__file="src/components/LTileLayer.vue";const tt=s({},ge),nt=(e,t)=>{const{options:n,methods:o}=Le(e,t),a=_("unbindTooltip");return K(()=>{a()}),{options:n,methods:o}};var Ce={name:"LTooltip",props:tt,setup(e,t){const n=A({}),o=A(null),a=_(U),l=_("bindTooltip"),{options:d,methods:r}=nt(e,n);return $(async()=>{const{tooltip:c,DomEvent:p}=a?P.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=c(d),z(r,n.value,e);const y=H(t.attrs);p.on(n.value,y),n.value.setContent(e.content||o.value),l({leafletObject:n.value}),T(()=>t.emit("ready",n.value))}),{root:o,leafletObject:n}},render(){return _e(this.$slots)}};Ce.__file="src/components/LTooltip.vue";f(s({},Ae),{baseUrl:{type:String,default:null,required:!0},layers:{type:String,default:""},styles:{type:String,default:""},format:{type:String,default:"image/jpeg"},transparent:{type:Boolean,custom:!1},version:{type:String,default:"1.1.1"},crs:{default:null},upperCase:{type:Boolean,default:!1}});const ot={components:{LMap:he,LIcon:ve,LTileLayer:Be,LMarker:be,LControlLayers:ye,LTooltip:Ce,LPopup:Se},props:["location","stations","availability","isRent"],data(){return{zoom:16,iconWidth:25,iconHeight:40}},computed:{iconUrl(){return`https://placekitten.com/${this.iconWidth}/${this.iconHeight}`},iconSize(){return[this.iconWidth,this.iconHeight]},availabilityMap(){let e={};for(let t in this.availability)e[this.availability[t].StationUID]=this.availability[t];return e},stationMap(){let e={};for(let t in this.stations)e[this.stations[t].StationUID]=this.stations[t];return e}},methods:{log(e){console.log(e)},selectMarker(e){console.log("set bike station:",e);let t={};t.name=this.stationMap[e].StationName.Zh_tw,t.address=this.stationMap[e].StationAddress.Zh_tw,t.availableRent=this.availabilityMap[e].AvailableRentBikes,t.availableReturn=this.availabilityMap[e].AvailableReturnBikes,ee().setSelectedBikeStation(t)},getRentReturnInfo(e){return this.availabilityMap[e]?this.isRent?this.availabilityMap[e].AvailableRentBikes:this.availabilityMap[e].AvailableReturnBikes:-1}}},at={style:{height:"100%",width:"100%"}},lt=M(" \u4F60\u5728\u9019\u88E1 ");function it(e,t,n,o,a,l){const d=N("l-tile-layer"),r=N("l-control-layers"),c=N("l-icon"),p=N("l-marker"),y=N("l-popup"),m=N("l-map");return I(),x("div",at,[E(m,{modelValue:a.zoom,"onUpdate:modelValue":t[0]||(t[0]=g=>a.zoom=g),zoom:a.zoom,"onUpdate:zoom":t[1]||(t[1]=g=>a.zoom=g),center:n.location},{default:Z(()=>[E(d,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),E(r),(I(!0),x(X,null,se(n.stations,g=>(I(),Ie(p,{key:g,"lat-lng":[g.StationPosition.PositionLat,g.StationPosition.PositionLon],onClick:v=>l.selectMarker(g.StationUID)},{default:Z(()=>[E(c,null,{default:Z(()=>[u("div",{class:Pe({dialogBox:!0,empty:this.getRentReturnInfo(g.StationUID)==0,rare:this.getRentReturnInfo(g.StationUID)>=1,enough:this.getRentReturnInfo(g.StationUID)>5})},F(this.getRentReturnInfo(g.StationUID)),3)]),_:2},1024)]),_:2},1032,["lat-lng","onClick"]))),128)),E(p,{"lat-lng":n.location},{default:Z(()=>[E(y,null,{default:Z(()=>[lt]),_:1})]),_:1},8,["lat-lng"])]),_:1},8,["modelValue","zoom","center"])])}var st=de(ot,[["render",it]]);const rt={class:"GPS"},ut=u("article",null,[M(" \u6309\u4E0BGPS\u8B93\u6211\u5011\u76F4\u63A5"),u("br"),M("\u5E6B\u60A8\u5B9A\u4F4D\u4F4D\u7F6E"),u("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1200 1200"},[u("path",{d:"M0 972.138V556.629c2.192-43.973 37.788-75.724 76.898-76.252h186.106c53.196-40.854 90.897-97.554 142.165-138.611c18.094-14.432 32.095-30.479 42.003-48.142c32.214-63.281 12.695-136.954 58.481-187.399c92.008-39.482 202.231 15.751 233.279 102.423c24.405 70.78 8.052 141.366-22.294 203.877c109.856-.182 219.71.708 329.563 1.292c89.434 6.678 153.202 66.892 153.797 152.504c-.244 86.275-74.623 149.017-153.797 150.565h-129.24c-4.308 25.417-12.709 48.465-25.202 69.144c7.239 53.145-9.327 105.247-41.356 142.812c-17.576 306.75-419.443 124.761-569.952 120.193H76.898C32.617 1046.939.528 1011.445 0 972.138zm277.221 0c120.425 2.591 531.909 184.658 492.407-76.252c43.546-23.471 60.301-86.286 33.603-126.01c40.566-40.005 52.118-90.265 12.925-129.887c38.771 0 77.113-.216 115.023-.646c37.911-.431 76.253-.646 115.024-.646c44.371-.933 75.122-33.487 75.606-72.374c-1.014-45.976-35.914-75.137-75.606-75.606c-150.385-.008-298.632-1.276-438.126-1.292c12.555-100.763 132.769-237.585 10.017-316.963c-19.652-9.652-35.367-13.749-55.896-10.017c-3.446 1.723-5.385 3.447-5.816 5.17c-.431 1.723-1.076 4.523-1.938 8.4c-13.044 79.87-25.221 159.73-87.237 212.601c-68.263 52.343-108.514 134.749-186.752 168.014h-3.231l-.003 415.508z",fill:"currentColor"})])],-1),ct=u("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",height:"46",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[u("path",{d:"M12 2C7.589 2 4 5.589 4 9.995C3.971 16.44 11.696 21.784 12 22c0 0 8.029-5.56 8-12c0-4.411-3.589-8-8-8zm0 12c-2.21 0-4-1.79-4-4s1.79-4 4-4s4 1.79 4 4s-1.79 4-4 4z",fill:"white"})],-1),dt=M("GPS "),mt=[ct,dt],ft=re({setup(e){const t=ee();function n(){navigator.geolocation||alert("\u6293\u4E0D\u5230\u60A8\u7684GPS\u8CC7\u6599"),navigator.geolocation.getCurrentPosition(function(o){console.log("\u4F60\u7684gps",o.coords.latitude,o.coords.longitude),t.setLocation(o.coords.latitude,o.coords.longitude)})}return(o,a)=>(I(),x("section",rt,[ut,u("article",{class:"GPS_circle",onClick:a[0]||(a[0]=l=>n())},mt)]))}});const te=e=>(xe("data-v-e9c043d2"),e=e(),Ee(),e),pt={class:"content"},yt={key:0,style:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%"}},vt={class:"car-nav"},ht={class:"Homeselect"},bt=["value"],gt=te(()=>u("span",null,[u("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1200 1200"},[u("path",{d:"M227.863 1200h415.508c43.973-2.192 75.725-37.788 76.253-76.898V936.995c40.854-53.196 97.553-90.897 138.61-142.165c14.432-18.094 30.479-32.095 48.142-42.003c63.281-32.214 136.955-12.695 187.399-58.481c39.482-92.008-15.751-202.231-102.423-233.279c-70.78-24.404-141.366-8.051-203.878 22.294c.182-109.856-.708-219.71-1.292-329.564C779.505 64.363 719.291.594 633.679 0c-86.275.244-149.017 74.623-150.565 153.796v129.241c-25.417 4.308-48.465 12.708-69.144 25.202c-53.145-7.24-105.247 9.327-142.811 41.356c-306.751 17.576-124.761 419.443-120.194 569.951v203.555c2.096 44.282 37.59 76.37 76.898 76.899zm0-277.222c-2.591-120.425-184.658-531.908 76.252-492.406c23.47-43.546 86.285-60.301 126.009-33.603c40.005-40.566 90.265-52.118 129.887-12.925c0-38.771.216-77.113.646-115.024s.646-76.252.646-115.024c.933-44.37 33.487-75.122 72.375-75.605c45.975 1.014 75.136 35.914 75.605 75.605c.008 150.385 1.276 298.632 1.292 438.126c100.763-12.555 237.585-132.769 316.963-10.017c9.652 19.652 13.749 35.367 10.017 55.896c-1.724 3.446-3.446 5.385-5.17 5.816c-1.723.431-4.523 1.076-8.4 1.938c-79.87 13.044-159.73 25.221-212.601 87.237c-52.343 68.263-134.749 108.514-168.013 186.752v3.231H227.863z",fill:"currentColor"})]),M(" \u9078\u64C7\u60F3\u67E5\u8A62\u7684\u7E23\u5E02 ")],-1)),Lt={class:"Homecar"},_t={class:"car-btns"},St=te(()=>u("span",null,[u("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1200 1200"},[u("path",{d:"M227.863 1200h415.508c43.973-2.192 75.725-37.788 76.253-76.898V936.995c40.854-53.196 97.553-90.897 138.61-142.165c14.432-18.094 30.479-32.095 48.142-42.003c63.281-32.214 136.955-12.695 187.399-58.481c39.482-92.008-15.751-202.231-102.423-233.279c-70.78-24.404-141.366-8.051-203.878 22.294c.182-109.856-.708-219.71-1.292-329.564C779.505 64.363 719.291.594 633.679 0c-86.275.244-149.017 74.623-150.565 153.796v129.241c-25.417 4.308-48.465 12.708-69.144 25.202c-53.145-7.24-105.247 9.327-142.811 41.356c-306.751 17.576-124.761 419.443-120.194 569.951v203.555c2.096 44.282 37.59 76.37 76.898 76.899zm0-277.222c-2.591-120.425-184.658-531.908 76.252-492.406c23.47-43.546 86.285-60.301 126.009-33.603c40.005-40.566 90.265-52.118 129.887-12.925c0-38.771.216-77.113.646-115.024s.646-76.252.646-115.024c.933-44.37 33.487-75.122 72.375-75.605c45.975 1.014 75.136 35.914 75.605 75.605c.008 150.385 1.276 298.632 1.292 438.126c100.763-12.555 237.585-132.769 316.963-10.017c9.652 19.652 13.749 35.367 10.017 55.896c-1.724 3.446-3.446 5.385-5.17 5.816c-1.723.431-4.523 1.076-8.4 1.938c-79.87 13.044-159.73 25.221-212.601 87.237c-52.343 68.263-134.749 108.514-168.013 186.752v3.231H227.863z",fill:"currentColor"})]),M(" \u85C9\u7531\u501F / \u9084\u8ECA\u7684\u6309\u9215\u4F86\u770B\u6240\u5269\u7684\u6578\u91CF\u5594 ")],-1)),At=te(()=>u("article",{class:"Homeimg"},[u("img",{src:ze}),u("h1",null,"\u8D95\u5FEB\u958B\u59CB\u9A0E\u4E0AUBike\u56DB\u8655\u65C5\u904A\u5427 !"),u("p",null,"\u8D95\u5FEB\u958B\u59CB\u9A0E\u4E0AUBike\u56DB\u8655\u65C5\u904A\u5427 ! \u908A\u9A0E\u8173\u8E0F\u8ECA\u908A\u7528\u624B\u6A5F\u662F\u5F88\u5371\u96AA\u7684\u5594 (\xB4\uFF65\u03C9\uFF65`)")],-1)),Bt={key:0,class:"HomeCurrentStation"},Ct=M(" \u53EF\u501F: "),wt={class:"number"},kt=M(" \u53EF\u9084:"),jt={class:"number"},Rt=re({setup(e){const t=ee(),n=ce(Me),o=ce($e),a=A();let l=t.userLocation[0],d=t.userLocation[1],r=t.nearAvailability,c=ae({rent:0,return:0,name:"",address:""});function p(C){console.log("updateCurrentByUID");let b=r.find(j=>j.StationUID===C);c.rent=b==null?void 0:b.AvailableRentBikes,c.rent=b==null?void 0:b.AvailableReturnBikes;let L=t.bikeStations.find(j=>j.StationUID===C);c.name=L==null?void 0:L.StationName.Zh_tw,c.address=L==null?void 0:L.StationAddress.Zh_tw}function y(){a.value&&l&&d&&t.getStationData(a.value,l,d)}function m(){a.value&&t.getAvailabilityData(a.value)}function g(){t.userLocation&&t.getNearByStationData(t.userLocation[0],t.userLocation[1])}function v(){t.userLocation&&t.getNearByAvailabilityData(t.userLocation[0],t.userLocation[1])}async function B(){await y(),await m()}async function R(){await v(),await g()}Q(r,(C,b)=>{console.log("\u8CC7\u6599\u8B8A\u66F4\u5C31update"),p(r[0].StationUID)},{deep:!0});const k=A(!0);function D(C){switch(C){case"rent":k.value=!0,t.setIsRent(!0),p(t.getSelectedBikeStation.StationUID);break;case"return":k.value=!1,t.setIsRent(!1),p(t.getSelectedBikeStation.StationUID)}}return(C,b)=>{var L,j,i,h;return I(),x(X,null,[u("main",pt,[S(t).userLocation[0]&&S(t).userLocation[1]?(I(),x("article",yt,[E(st,{location:[S(t).userLocation[0],S(t).userLocation[1]],stations:S(t).getNearByStations,availability:S(t).getNearByAvailability,isRent:S(t).getIsRent},null,8,["location","stations","availability","isRent"])])):ue("",!0),u("article",vt,[u("div",ht,[De(u("select",{class:"form-control",value:"\u8F38\u5165\u60F3\u67E5\u8A62\u7684\u5730\u9EDE","onUpdate:modelValue":b[0]||(b[0]=w=>a.value=w),onChange:B},[(I(!0),x(X,null,se(S(n),(w,J)=>(I(),x("option",{key:J,value:w},F(S(o)[J]),9,bt))),128))],544),[[Te,a.value]]),gt]),u("div",Lt,[u("div",_t,[u("button",{type:"button",class:"btn-orange se_btn",onClick:b[1]||(b[1]=w=>D("rent"))},"\u501F\u8ECA"),u("button",{type:"button",class:"disable_g btn-green se_btn",onClick:b[2]||(b[2]=w=>D("return"))},"\u9084\u8ECA")]),St])]),At]),S(t).getSelectedBikeStation.name!=null?(I(),x("article",Bt,[u("div",null,[u("h2",null,F(((L=S(t).getSelectedBikeStation)==null?void 0:L.name)||"\u8ACB\u9EDE\u64CA\u81EA\u884C\u8ECA\u7AD9\u9EDE"),1),u("h4",null,F((j=S(t).getSelectedBikeStation)==null?void 0:j.address),1)]),u("div",null,[Ct,u("span",wt,F(((i=S(t).getSelectedBikeStation)==null?void 0:i.availableRent)||0),1),kt,u("span",jt,F(((h=S(t).getSelectedBikeStation)==null?void 0:h.availableReturn)||0),1)])])):ue("",!0),u("div",{onClick:b[3]||(b[3]=w=>R())},[E(ft)])],64)}}});var Tt=de(Rt,[["__scopeId","data-v-e9c043d2"]]);export{Tt as default};
